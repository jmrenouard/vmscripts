### CONFIGURATED BY mygenconf.py at 2020-11-15 18:12:04.122201
NBCPU=2
MEM=2048
DISKSIZE=100
DBRIDGE="enp0s4"
Vagrant.configure("2") do |config|
   ### CONFIG mgt1 vm GENERATED BY mygenconf
    #config.vm.define "mgt1" do |mgt1|
    #  mgt1.vm.box = "generic/ubuntu2210"
    #  mgt1.vm.hostname = 'mgt1'
    #  mgt1.vm.network "private_network", ip: "192.168.56.170"
    #  mgt1.vm.network "public_network", type: "dhcp"
    #  mgt1.hostmanager.enabled = true
    #  mgt1.hostmanager.manage_host = false
    #  mgt1.hostmanager.manage_guest = true
    #  mgt1.hostmanager.ignore_private_ip = false
    #  mgt1.hostmanager.include_offline = true
    #  mgt1.hostmanager.aliases = %w(mgt1.localdomain mgt1.local)
#
    #  #mgt1.vm.synced_folder "/data", "/data", create: true
    #  #mgt1.vm.disk :disk, size: "#{DISKSIZE}GB", primary: true
    #  mgt1.vm.provider "virtualbox" do |vb|
    #     vb.name="mgt1"
    #     vb.gui = false
    #     vb.memory = MEM
    #     vb.cpus = NBCPU
    #  end
    #  mgt1.vm.provision "shell", path: "provision_generic.sh"
    #  mgt1.vm.provision :hostmanager
    #end
    ### CONFIG app1 vm GENERATED BY mygenconf
    config.vm.define "app1" do |app1|
      app1.vm.box = "generic/ubuntu2210"
      app1.vm.hostname = 'app1'
      app1.vm.network "private_network", ip: "192.168.56.171"
      app1.vm.network "public_network", type: "dhcp", bridge: DBRIDGE
      app1.hostmanager.enabled = true
      app1.hostmanager.manage_host = false
      app1.hostmanager.manage_guest = true
      app1.hostmanager.ignore_private_ip = false
      app1.hostmanager.include_offline = true
      app1.hostmanager.aliases = %w(app1.localdomain app1.local)

      #app1.vm.synced_folder "/data", "/data", create: true
      #app1.vm.disk :disk, size: "#{DISKSIZE}GB", primary: true
      app1.vm.provider "virtualbox" do |vb|
         vb.name="app1"
         vb.gui = false
         vb.memory = MEM
         vb.cpus = NBCPU
      end
      app1.vm.provision "shell", path: "provision_generic.sh"
      app1.vm.provision :hostmanager
    end
    ### CONFIG proxy1 vm GENERATED BY mygenconf
    config.vm.define "proxy1" do |proxy1|
      proxy1.vm.box = "generic/ubuntu2210"
      proxy1.vm.hostname = 'proxy1'
      proxy1.vm.network "private_network", ip: "192.168.56.181"
      proxy1.vm.network "public_network", type: "dhcp", bridge: DBRIDGE
      proxy1.hostmanager.enabled = true
      proxy1.hostmanager.manage_host = false
      proxy1.hostmanager.manage_guest = true
      proxy1.hostmanager.ignore_private_ip = false
      proxy1.hostmanager.include_offline = true
      proxy1.hostmanager.aliases = %w(proxy1.localdomain proxy1.local)

      #proxy1.vm.synced_folder "/data", "/data", create: true
      #proxy1.vm.disk :disk, size: "#{DISKSIZE}GB", primary: true
      proxy1.vm.provider "virtualbox" do |vb|
         vb.name="proxy1"
         vb.gui = false
         vb.memory = MEM
         vb.cpus = NBCPU
      end
      proxy1.vm.provision "shell", path: "provision_generic.sh"
      proxy1.vm.provision :hostmanager
    end

  ### CONFIG proxy2 vm GENERATED BY mygenconf
    config.vm.define "proxy2" do |proxy2|
      proxy2.vm.box = "generic/ubuntu2210"
      proxy2.vm.hostname = 'proxy2'
      proxy2.vm.network "private_network", ip: "192.168.56.182"
      proxy2.vm.network "public_network", type: "dhcp", bridge: DBRIDGE
      proxy2.hostmanager.enabled = true
      proxy2.hostmanager.manage_host = false
      proxy2.hostmanager.manage_guest = true
      proxy2.hostmanager.ignore_private_ip = false
      proxy2.hostmanager.include_offline = true
      proxy2.hostmanager.aliases = %w(proxy2.localdomain proxy2.local)

      #proxy2.vm.synced_folder "/data", "/data", create: true
      #proxy2.vm.disk :disk, size: "#{DISKSIZE}GB", primary: true

      proxy2.vm.provider "virtualbox" do |vb|
         vb.name="proxy2"
         vb.gui = false
         vb.memory = MEM
         vb.cpus = NBCPU
      end
      proxy2.vm.provision "shell", path: "provision_generic.sh"
      proxy2.vm.provision :hostmanager
    end


    ### CONFIG dbsrv1 vm GENERATED BY mygenconf
    config.vm.define "dbsrv1" do |dbsrv1|
      dbsrv1.vm.box = "generic/ubuntu2210"
      dbsrv1.vm.hostname = 'dbsrv1'
      dbsrv1.vm.network "private_network", ip: "192.168.56.191"
      dbsrv1.vm.network "public_network", type: "dhcp", bridge: DBRIDGE
      dbsrv1.hostmanager.enabled = true
      dbsrv1.hostmanager.manage_host = false
      dbsrv1.hostmanager.manage_guest = true
      dbsrv1.hostmanager.ignore_private_ip = false
      dbsrv1.hostmanager.include_offline = true
      dbsrv1.hostmanager.aliases = %w(dbsrv1.localdomain dbsrv1.local)

      #dbsrv1.vm.synced_folder "/data", "/data", create: true
      #dbsrv1.vm.disk :disk, size: "#{DISKSIZE}GB", primary: true

      dbsrv1.vm.provider "virtualbox" do |vb|
         vb.name="dbsrv1"
         vb.gui = false
         vb.memory = MEM
         vb.cpus = NBCPU
      end
      dbsrv1.vm.provision "shell", path: "provision_generic.sh"
      dbsrv1.vm.provision :hostmanager
    end
    ### CONFIG dbsrv2 vm GENERATED BY mygenconf
    config.vm.define "dbsrv2" do |dbsrv2|
      dbsrv2.vm.box = "generic/ubuntu2210"
      dbsrv2.vm.hostname = 'dbsrv2'
      dbsrv2.vm.network "private_network", ip: "192.168.56.192"
      dbsrv2.vm.network "public_network", type: "dhcp", bridge: DBRIDGE
      dbsrv2.hostmanager.enabled = true
      dbsrv2.hostmanager.manage_host = false
      dbsrv2.hostmanager.manage_guest = true
      dbsrv2.hostmanager.ignore_private_ip = false
      dbsrv2.hostmanager.include_offline = true
      dbsrv2.hostmanager.aliases = %w(dbsrv2.localdomain dbsrv2.local)

      #dbsrv2.vm.synced_folder "/data", "/data", create: true
      #dbsrv2.vm.disk :disk, size: "#{DISKSIZE}GB", primary: true

      dbsrv2.vm.provider "virtualbox" do |vb|
         vb.name="dbsrv2"
         vb.gui = false
         vb.memory = MEM
         vb.cpus = NBCPU
      end
      dbsrv2.vm.provision "shell", path: "provision_generic.sh"
      dbsrv2.vm.provision :hostmanager
    end
    ### CONFIG dbsrv3 vm GENERATED BY mygenconf
    config.vm.define "dbsrv3" do |dbsrv3|
      dbsrv3.vm.box = "generic/ubuntu2210"
      dbsrv3.vm.hostname = 'dbsrv3'
      dbsrv3.vm.network "private_network", ip: "192.168.56.193"
      dbsrv3.vm.network "public_network", type: "dhcp", bridge: DBRIDGE
      dbsrv3.hostmanager.enabled = true
      dbsrv3.hostmanager.manage_host = false
      dbsrv3.hostmanager.manage_guest = true
      dbsrv3.hostmanager.ignore_private_ip = false
      dbsrv3.hostmanager.include_offline = true
      dbsrv3.hostmanager.aliases = %w(dbsrv3.localdomain dbsrv3.local)

      #dbsrv3.vm.synced_folder "/data", "/data", create: true
      #dbsrv3.vm.disk :disk, size: "#{DISKSIZE}GB", primary: true

      dbsrv3.vm.provider "virtualbox" do |vb|
         vb.name="dbsrv3"
         vb.gui = false
         vb.memory = MEM
         vb.cpus = NBCPU
      end
      dbsrv3.vm.provision "shell", path: "provision_generic.sh"
      dbsrv3.vm.provision :hostmanager
    end
end
